(()=>{"use strict";var t={d:(e,n)=>{for(var s in n)t.o(n,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:n[s]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{TypeCheck:()=>$,_tc:()=>C,_tcx:()=>F,_typeCheck:()=>_,addTypeTest:()=>T,default:()=>$,testBuilder:()=>v,typeCheck:()=>$,typesMap:()=>b,validType:()=>S});const n={};(()=>{if("undefined"!=typeof window){const t={childList:!0,subtree:!0};new MutationObserver((t=>{for(const e of t)if("childList"===e.type)for(const t in n)n[t]()})).observe(document.body,t)}})();const s={};(()=>{if("undefined"!=typeof window){const t={childList:!0,subtree:!0};new MutationObserver((t=>{for(const e of t)if("childList"===e.type)for(const t in s)s[t]()})).observe(document.body,t)}})();function r(t){return null==t||("string"==typeof t||Array.isArray(t)?0===t.length:t instanceof Map||t instanceof Set?0===t.size:ArrayBuffer.isView(t)?0===t.byteLength:"object"==typeof t&&0===Object.keys(t).length)}function i(t){const e=typeof t;switch(t){case null:case void 0:case"":return null;case"0":case 0:return 0;default:if(!("number"!==e&&"string"!==e||"number"!=typeof t&&Number.isNaN(Number(t))))return+t}return null}function o(t,e){if(null===t)return e?null===e||"null"===e:"null";let n;switch(typeof t){case"number":case"string":case"boolean":case"undefined":case"bigint":case"symbol":case"function":n=typeof t;break;case"object":n=Array.isArray(t)?"array":"object";break;default:n="unknown"}if(e){if(e.includes("|")){for(let t of e.split("|"))if(n===t)return t;return!1}return e===n}return n}function l(t,...e){if(t)return"string"!=typeof t?t:e.reduce(((t,e)=>{const n=e instanceof RegExp?e:new RegExp((s=e)instanceof RegExp?s:s.split("").map((t=>["$","^",".","*","+","?","(",")","[","]","{","}","|","\\"].includes(t)?`\\${t}`:t)).join(""));var s;return t.replace(n,"")}),t).trim()}function u(t,e="[",n="]"){if("string"!=typeof t)return t;const s=t.lastIndexOf(e);if(-1===s)return null;const r=t.substring(s),i=r.indexOf(n);return-1===i?null:r.substring(0,i+1)}function a(t){if(o(t,"object")||o(t,"array"))return t;const e=h(t,"{","}"),n=h(t,"[","]");if(!e&&!n)return t;const s=e?{}:[],l={};let y=function(t){const e=t.match(/^(\[|\{)(.*?)(\]|\})$/);return e?e[2].trim():t}(t);const p=(t=!1)=>{for(;;){let e=t?u(y,"{","}"):u(y);if(!e)break;let n=`__${"kn__"+(new Date).getTime()+"__"+Math.floor(899*Math.random())}__`;l[n]=e,y=y.replace(e,n)}};return p(),p(!0),c(y).forEach(((t,n)=>{const o=t.includes(":")&&e,u=o?c(t,":"):[],h=f(function(t,e=null){return null!==i(t)||"boolean"==typeof t?t:r(t)?e:t}(u[0],n));(t=o?u[1]:t)in l&&(t=a(l[t])),t=function(t){const e=i(t);return null!==e?e:t}(f(t)),e?s[h]=t:s.push(t)})),s}function c(t,e=","){if("string"!=typeof t)return t;if(r(t))return[];let n=(t=l(t)).split(e).map((t=>l(t)));return 1===n.length&&""===n[0]?[t]:n}function f(t){return"string"!=typeof t?t:t.replace(/`|'|"/g,"")}function h(t,e=null,n=null){return(!e||t.startsWith(e))&&(!n||t.endsWith(n))}function y(t){return null==t||("string"==typeof t||Array.isArray(t)?0===t.length:t instanceof Map||t instanceof Set?0===t.size:ArrayBuffer.isView(t)?0===t.byteLength:"object"==typeof t&&0===Object.keys(t).length)}function p(t,e){if(null===t)return e?null===e||"null"===e:"null";let n;switch(typeof t){case"number":case"string":case"boolean":case"undefined":case"bigint":case"symbol":case"function":n=typeof t;break;case"object":n=Array.isArray(t)?"array":"object";break;default:n="unknown"}if(e){if(e.includes("|")){for(let t of e.split("|"))if(n===t)return t;return!1}return e===n}return n}const b=new Map([["array",t=>p(t,"array")],["bigInt",t=>"bigint"==typeof t],["boolean",t=>"boolean"==typeof t],["date",t=>t instanceof Date],["float",t=>"number"==typeof t&&!Number.isInteger(t)],["function",t=>"function"==typeof t],["int",t=>Number.isInteger(t)],["map",t=>t instanceof Map],["null",t=>null===t],["number",t=>"number"==typeof t],["object",t=>p(t,"object")],["promise",t=>t instanceof Promise],["regExp",t=>t instanceof RegExp],["set",t=>t instanceof Set],["string",t=>"string"==typeof t],["symbol",t=>"symbol"==typeof t],["undefined",t=>void 0===t],["weakMap",t=>t instanceof WeakMap],["weakSet",t=>t instanceof WeakSet]]),d=new Map,g=new Map;function O(t){throw new Error(`Type Error: "${t}" is not supported`)}function w(t){if(p(t,"array")||p(t,"object"))return p(t);const e=t.trim();return h(e,"[","]")?"array":h(e,"{","}")?"object":"basic"}const k=t=>{return e=t,g.has(e)?g.get(e):e.split("|").reduce(((t,n)=>{let s=!1,r=n.trim();r.endsWith("?")&&(r=r.slice(0,-1),s=!0);const i=b.get(r)??O(r);return i&&t.push(i),s&&t.push(b.get("null"),b.get("undefined")),g.set(e,t),t}),[]);var e},j=t=>{const e=[];return a(t).forEach((t=>{e.push(v(t))})),e},m=t=>new class{constructor(){return this.testUnit=new Map([["tests",new Map],["optionalKeys",[]],["testFew",[]],["testAllAny",!1],["testOnly",!1]]),this.handleObject()}checkOptionalKey(t){return t.endsWith("?")&&(t=t.slice(0,-1),this.testUnit.get("optionalKeys").push(t)),t}checkTheAnyKey(t){if("any"in t){const e=Object.keys(t);1===e.length?this.testUnit.set("testAllAny",!0):this.testUnit.set("testFew",e.filter((t=>"any"!==t)))}}handleObject(){const e=a(t);this.checkTheAnyKey(e);for(const t in e){const n=this.checkOptionalKey(t),s=e[t];"..."!==s?this.testUnit.get("tests").set(n,v(s)):(delete e[t],this.testUnit.set("testOnly",!0))}return this.testUnit}};function v(t){if(d.has(t))return d.get(t);let e=new Map([["testMethod",w(t)],["tests",null]]);switch(e.get("testMethod")){case"basic":e.set("tests",k(t));break;case"array":e.set("tests",j(t));break;case"object":const n=m(t);e=new Map([...e,...n]);break;default:O(t)}return d.set(t,e),e}const T=(t,e)=>b.has(t)?`"${t}" already exists!`:(b.set(t,e),!0),A=[],M=new Map;class K{constructor(t,e){const{testOnly:n,testFew:s,testAllAny:r,optionalKeys:i,tests:o}=[...e.entries()].reduce(((t,[e,n])=>({...t,[e]:n})),{});this.testUnitKeys=[...o.keys()],this.testOnly=n,this.testFew=s,this.testAllAny=r,this.optionalKeys=i,this.testCollection=o,this.inputObject=t}handleUnitTest(){switch(!0){case this.testAllAny:return this.testObjAllAny();case!y(this.testFew):const t=this.testObjFew();return this.filterOutFew(),t&&this.testObjAllAny();case!y(this.optionalKeys):const e=this.testObjOptionalKeys();return this.filterOutOptionalKeys(),e&&this.defaultTest();case!this.testOnly:for(const t in this.inputObject)if(!this.testCollection.has(t))return U(this.inputObject,`Key: "${t}" not found in the test collection, or use the "any" (any:[type]) key test or "..." after the last key in the test collection {key1: type, key2: type, ...} to only test a few keys.`),!1}return this.defaultTest()}filterOutOptionalKeys(){this.testUnitKeys=this.testUnitKeys.filter((t=>!this.optionalKeys.includes(t)))}filterOutFew(){this.inputObject=Object.fromEntries(Object.entries(this.inputObject).filter((([t])=>!this.testFew.includes(t))))}testObjOptionalKeys(){return this.optionalKeys.every((t=>{const e=this.testCollection.get(t),n=this.inputObject[t];return!n||E(n,e)}))}testObjFew(){return this.testFew.every((t=>{const e=this.testCollection.get(t);return E(this.inputObject[t],e)}))}testObjAllAny(){const t=Object.values(this.inputObject);return 0===t.length?E(null,this.testCollection.get("any")):t.every((t=>E(t,this.testCollection.get("any"))))}defaultTest(){return this.testUnitKeys.every((t=>{const e=this.testCollection.get(t);return E(this.inputObject[t],e)}))}}const x=(t,e)=>!!p(t,"object")&&new K(t,e).handleUnitTest();function E(t,e){const n=e.get("testMethod"),s=e.get("tests");switch(n){case"basic":return((t,e)=>e.some((n=>{const s=n(t);return s||U(t,e),s})))(t,s);case"array":return((t,e)=>!(!p(t,"array")||0===t.length)&&e.every(((e,n)=>E(t[n],e))))(t,s);case"object":return x(t,e);default:return!1}}function R(t){if(t){if(M.has(t))return M.get(t);let e=null;switch(typeof t){case"function":e={callback:t};break;case"object":e=t;break;case"string":switch(t){case"log":e={log:!0};break;case"fail":e={fail:!0};break;case"return":e={return:!0};break;case"validOutput":e={validOutput:t}}}return M.set(t,e),e}return{log:!1,fail:!1,return:!1,validOutput:!1,callback:null}}function U(t,e){A.push({value:JSON.stringify(t),tests:JSON.stringify(e),found:p(t)})}const _=(t,e,n)=>new class{constructor(){this.unitTest=v(e),this.testResult=E(t,this.unitTest),this.bool=this.testResult,this.settings=R(n),this.callback=this.settings.callback??null,this.testData={typeExp:e,inputVal:t,inputType:p(t),callback:this.callback,unitTest:this.unitTest,testResult:this.testResult},this.settings.log&&this.log(),this.settings.fail&&this.fail(),this.callback&&this.callback(this.testData)}test(){return this.testResult}log(){return console.log("-------------------------- \n ::: Test Data Info :::"),console.table(this.testData),this}fail(){return this.testResult?this:(this.log(),this.settings?.error&&console.log("\n\n-----\x3e Error Message: ",this.settings.error),function(t){const e=A[A.length-1];throw console.log("\n::::::::::::: Type error or not valid ::::::::::::::"),console.log("Input Value used: ",t),console.log("---\x3e Value Found:",e.found),console.log("---\x3e Test Permormed:",e.tests),A.length=0,new Error(`\n\n---------------------\nTypeCheck Error ---\x3e\n\n The value must not be of type (Type found) = "${e.found}". \n\n The Type used is invalid for value: "${e.value}". \n\n see logged error for details\n---------------------\n\n`)}(t))}return(){return t}},C=(t,e,n={})=>(...s)=>(n={fail:!0,...n},_(s,t,n),e(...s)),F=(t,e,n)=>{let s=R(n);return s={fail:!0,...s},(...n)=>new class{constructor(){return this.args=n,this.testResults=_(n,t,s),this.default()}default(){this.returns=e(...n);const t=s.validOutput??!1;return t&&_(this.returns,t,"fail"),this}log(){return this.testResults.log(),this}fail(){return this.testResults.fail(),this}return(){return this.returns}}},S=(t,e)=>_(t,e).test(),$=(t,e,n=null)=>_(t,e,n).fail();window.TypeCheck=e})();